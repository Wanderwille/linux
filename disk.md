## Все про диски в Linux

Есть разные уровни работы с дисками:

### 1.1 

1. Железо: физический диск (HHD, SSH, NVME)

2. Разделы: диск обычно делится на части (/dev/sda, /dev/sdb)

3. Файловая система: способ организации данных на разделе диска (ext4, xfs и так далее)

4. Точки монтирования: место, где файловая система отображается в дереве каталгов (/mnt/log, /home, /tmp и так далее)

### 1.2

Таблицы разделов: 

1. MBR - старая схема, до 2 ТБ, максимум 4 раздела

2. GPT - современная схема, поддерживает диски больше 2-ух ТБ и сотни разделов, сейчас стандарт

### 1.3

Типы файловых систем:

#### Классические файловые системы linux

+ ext2 - устарела, без журнала

+ ext3 - с журналированием (восстановление после сбоя)

+ ext4 - стандарт по умолчанию почти во всех дистрибутивах: стабильная, быстрая, поддерживает большие файлы (до 16 ТБ)

#### Современные 

+ XFS - очень хорошая работа с большими файлами

+ BTRFS - снапшоты, дедупликация, сжатие, встроенный RAID

+ ZFS - мощная, с защитой от повреждения данных и собственным управлением пулами. Ставиться отдельно

#### Для совместимости

+ vsat - для флешек (Старый FAT32)

+ exFAT  - Современный FAT от Microsoft, лучше для больших файлов

+ NTFS - Файловая система Windows, поддерживается в Linux через ```ntfs-3g```

### 1.4 

Журналирование:

Многие файловые системы используют журнал - "записная книжка изменений". Если отключить сервер или выдернуть шнур, файловая система сможет восстановиться быстрее и без потери целостности

+ ext4, xfs, btrfs, zfs - журналируемые 

+ FAT/exFAT - без журнала

### 1.5 

Монтаж в Linux

+ В отличии от Windows, где диск имеют буквы (С, D), в Linux она встраиваются в дерево каталогов

+ Примеры:
    + корневая система (/) - обязательна
    + /home - отдельный раздел для пользователей
    + /var - логи, база данных
    + /mnt - временное подключение внешних носителей (или директория для монтирования)

### 1.6

Современные технологии:

+ LVM (Logical Volume Manager)
    + Можно объединять диски в пул и делать логические тома
    + Удобно расширять FS без пересоздания разделов
+ RAID (mdadm или аппаратный)
    + Несколько дисков работают вместе: для скорости (RAID0) или надежности (RAID1, RAID5, RAID10)
+ BTRFS/ZFS
    + Не только FS, но и менеджер томов: умеют сами в RAID, снапшоты, проверку данных


## Подробнее про типы файловых систем:

